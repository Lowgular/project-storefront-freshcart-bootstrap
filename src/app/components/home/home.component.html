<!-- shop by category section-->
<section class="my-lg-14 my-8">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="mb-8">
          <h3 class="mb-0" i18n>Shop by category</h3>
        </div>
      </div>
    </div>

    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xxl-6 g-6">
      <div class="col mt-4" *ngFor="let category of categoryList$ | async">
        <a
          class="text-decoration-none text-inherit"
          [routerLink]="['/categories/', category.id]"
        >
          <div class="card card-product">
            <div class="card-body text-center py-8">
              <img
                class="mb-3 img-fluid"
                [src]="category.imageUrl"
                [alt]="category.name"
              />
              <div class="text-truncate">{{ category.name }}</div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- stores section -->
<section
  class="my-lg-14 my-8"
  *ngIf="storeWithTagsList$ | async as storeWithTagsList"
>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="mb-8">
          <h3 class="mb-0" i18n>Stores</h3>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="mb-4">
          <h6 class="mb-0" i18n>
            We have
            <span class="text-primary">{{ storeWithTagsList.length }}</span>
            vendors now
          </h6>
        </div>
      </div>
    </div>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 g-lg-4">
      <div class="col mt-4" *ngFor="let store of storeWithTagsList">
        <div class="card flex-row p-8 card-product h-100">
          <div>
            <img
              class="rounded-circle icon-shape icon-xl"
              [src]="store.logoUrl"
              [alt]="store.name"
            />
          </div>
          <div class="ms-6">
            <h5 class="mb-1">
              <a
                class="text-decoration-none text-inherit"
                [routerLink]="['/stores/', store.id]"
                >{{ store.name }}</a
              >
            </h5>
            <div class="small text-muted">
              <ng-container
                *ngFor="let tag of store.storeTags; let last = last"
              >
                <span> {{ tag }} </span>
                <svg
                  *ngIf="!last"
                  xmlns="http://www.w3.org/2000/svg"
                  width="4"
                  height="4"
                  fill="#C1C7C6"
                  class="bi bi-circle-fill align-middle"
                  viewBox="0 0 16 16"
                >
                  <circle cx="8" cy="8" r="8"></circle>
                </svg>
              </ng-container>
            </div>
            <div>
              <div class="badge text-bg-light border">
                {{ store.distance }} km
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
